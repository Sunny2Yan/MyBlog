# 管道符、重定向与环境变量

## 1. 输入输出重定向

- 标准输入重定向（STDIN，文件描述符为 0）：默认从键盘输入
- 标准输出重定向（STDOUT，文件描述符为 1）：默认输出到屏幕
- 错误输出重定向（STDERR，文件描述符为 2）：默认输出到屏幕

### 1.1 输入重定向符号

| 符号                   | 作用                            |
| :--------------------- |:------------------------------|
| 命令 < 文件            | 将文件作为命令的标准输入                  |
| 命令 << 分界符         | 从标准输入中读入，直到遇到分界符停止            |
| 命令 < 文件 1 < 文件 2 | 将文件1作为命令的标准输入，并将标准输出到文件2      |

### 1.2 输出重定向符号

| 符号                              | 作用                                               |
| --------------------------------- | -------------------------------------------------- |
| 命令 > 文件                       | 将标准输出重定向到一个文件中（清空原文件）         |
| 命令 2> 文件                      | 将错误输出重定向到一个文件中（清空原文件）         |
| 命令 >> 文件                      | 将标准输出重定向到一个文件中（追加到原文件）       |
| 命令 2>> 文件                     | 将错误输出重定向到一个文件中（追加到原文件）       |
| 命令 >> 文件 2>&1 / 命令 &>> 文件 | 将标准输出和错误共同写到一个文件中（追加到原文件） |

## 2. 管道命令符

`命令 A | 命令B`：将前一个命令的输出作为后一个命令的输入。

## 3. 通配符

```bash
* / ?                                    #  任意字符 / 任意单个字符
[a-z] / [A-Z] / [a-Z] / [0-9]  # 单个小写字母 / 单个大写字母 / 单个字母 / 单个数字
[[:alpha:]] / [[:upper:]] / [[:lower:]]  # 任意字母 / 任意大写字母 / 任意小写字母
[[:digit:]] / [[:alnum:]] / [[:punct:]]  # 所有数字 / 任意字母加数字 / 标点符号

eg: echo file{1, 2, 3}                   # file1 file2 file3
```

## 4. 转义符

变量以 `$` 开头，并大写。

- 反斜杠（ \ ）：变量变字符
- 单引号（' '）：转义其中所有的变量为单纯字符
- 双引号（""）：保留其中的变量属性，不进行转义处理
- 反引号（``）：把其中的命令执行后返回结果

## 5. 环境变量

Linux 系统中，一般变量名称大写，命令小写。

```bash
export xx  # 将 xx 提升为全局变量
unset xx   # 将 xx 取消全局变量
```

注：在终端设置的变量能够立即生效，但重启服务后会消失，因此需要将变量和变量值写入到 `.bashrc` 或 `.bash_profile` 中。